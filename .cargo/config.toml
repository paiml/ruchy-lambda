# Cargo configuration for Ruchy Lambda
# Target-specific compilation settings for ARM64 Graviton2

[target.aarch64-unknown-linux-musl]
rustflags = [
    "-C", "target-cpu=neoverse-n1",  # Graviton2 CPU optimization
    "-C", "link-arg=-static",        # Static linking
    "-C", "link-arg=-s",             # Strip symbols
]

[target.x86_64-unknown-linux-musl]
rustflags = [
    "-C", "link-arg=-static",        # Static linking
    "-C", "link-arg=-s",             # Strip symbols
]

# [build]
# Uncomment to build for Lambda by default (musl target)
# For local development, comment this out to use native target
# target = "x86_64-unknown-linux-musl"
